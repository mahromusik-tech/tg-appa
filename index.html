<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON Casino</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò (–ü–æ–∫–∞ —Ç—è–Ω–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±–ª–∞–∫–∞) -->
    <div id="loader">
        <div class="spinner"></div>
        <p>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º...</p>
    </div>

    <!-- –®–ê–ü–ö–ê -->
    <header class="app-header">
        <div class="balance-container">
            <span class="coin-icon">üíé</span>
            <span id="balance-display">0</span>
        </div>
        <div class="user-pill">
            <img id="header-avatar" src="" alt="" onerror="this.style.display='none'">
            <span id="header-username">...</span>
        </div>
    </header>

    <main id="app-content">
        
        <!-- 1. –õ–û–ë–ë–ò -->
        <div id="view-lobby" class="view active">
            <div class="promo-banner">
                <h1>TON CASINO</h1>
                <p>–ò–≥—Ä–∞–π —á–µ—Å—Ç–Ω–æ. –í—ã–∏–≥—Ä—ã–≤–∞–π –º–Ω–æ–≥–æ.</p>
            </div>

            <h3 class="label">–ò–ì–†–´</h3>
            <div class="games-list">
                <div class="game-card" onclick="App.nav('mines')">
                    <div class="g-icon">üí£</div>
                    <div class="g-info">
                        <b>Mines</b>
                        <span>–°–∞–ø–µ—Ä –Ω–∞ —Å—Ç–µ—Ä–æ–∏–¥–∞—Ö</span>
                    </div>
                </div>
                <div class="game-card" onclick="App.nav('roulette')">
                    <div class="g-icon">üî¥</div>
                    <div class="g-info">
                        <b>Roulette</b>
                        <span>Red / Black / Green</span>
                    </div>
                </div>
                <div class="game-card" onclick="App.nav('crash')">
                    <div class="g-icon">üöÄ</div>
                    <div class="g-info">
                        <b>Crash</b>
                        <span>–£—Å–ø–µ–π –∑–∞–±—Ä–∞—Ç—å</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. MINES -->
        <div id="view-mines" class="view">
            <div class="view-header">
                <button class="btn-back" onclick="App.nav('lobby')">‚ùÆ –ù–∞–∑–∞–¥</button>
                <h2>Mines</h2>
            </div>
            <div class="mines-wrapper">
                <div class="mines-info">–ö–æ—ç—Ñ: <span id="mines-coeff" class="accent">x1.00</span></div>
                <div id="mines-grid" class="grid-5x5"></div>
            </div>
            <div class="controls">
                <div class="bet-panel">
                    <input type="number" id="mines-bet" value="100" placeholder="–°—Ç–∞–≤–∫–∞">
                    <select id="mines-count">
                        <option value="3">3 –ú–∏–Ω—ã</option>
                        <option value="5">5 –ú–∏–Ω</option>
                        <option value="10">10 –ú–∏–Ω</option>
                        <option value="24">24 –ú–∏–Ω—ã</option>
                    </select>
                </div>
                <button id="btn-mines-action" class="btn-main" onclick="Mines.action()">–°–¢–ê–í–ö–ê</button>
            </div>
        </div>

        <!-- 3. ROULETTE -->
        <div id="view-roulette" class="view">
            <div class="view-header">
                <button class="btn-back" onclick="App.nav('lobby')">‚ùÆ –ù–∞–∑–∞–¥</button>
                <h2>Roulette</h2>
            </div>
            
            <div class="roulette-wheel-container">
                <div class="roulette-pointer">‚ñº</div>
                <div class="roulette-strip" id="roulette-strip">
                    <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
                </div>
            </div>

            <div class="last-rolls" id="roulette-history">
                <!-- –ò—Å—Ç–æ—Ä–∏—è -->
            </div>

            <div class="controls">
                <input type="number" id="roulette-bet" class="full-input" value="100" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏">
                <div class="roulette-buttons">
                    <button class="btn-r-red" onclick="Roulette.spin('red')">x2 üî¥</button>
                    <button class="btn-r-green" onclick="Roulette.spin('green')">x14 üü¢</button>
                    <button class="btn-r-black" onclick="Roulette.spin('black')">x2 ‚ö´</button>
                </div>
            </div>
        </div>

        <!-- 4. CRASH -->
        <div id="view-crash" class="view">
            <div class="view-header">
                <button class="btn-back" onclick="App.nav('lobby')">‚ùÆ –ù–∞–∑–∞–¥</button>
                <h2>Crash</h2>
            </div>
            
            <div class="crash-canvas-container">
                <div id="crash-number">1.00x</div>
                <div id="crash-rocket">üöÄ</div>
                <svg id="crash-svg" width="100%" height="100%"></svg>
            </div>

            <div class="crash-history" id="crash-history-list">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –∫—ç—Ñ–æ–≤ -->
            </div>

            <div class="controls">
                <input type="number" id="crash-bet" class="full-input" value="100" placeholder="–°—Ç–∞–≤–∫–∞">
                <button id="btn-crash-action" class="btn-main" onclick="Crash.action()">–°–¢–ê–†–¢</button>
            </div>
        </div>

        <!-- 5. PROFILE -->
        <div id="view-profile" class="view">
            <div class="profile-card">
                <div class="p-avatar" id="p-avatar"></div>
                <h2 id="p-name">User</h2>
                <div class="p-id" id="p-id">ID: 000000</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-box">
                    <small>–ë–∞–ª–∞–Ω—Å</small>
                    <b id="p-balance">0</b>
                </div>
                <div class="stat-box">
                    <small>–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ</small>
                    <b id="p-games">0</b>
                </div>
                <div class="stat-box">
                    <small>–ü–æ–±–µ–¥</small>
                    <b id="p-wins" style="color: #00ff88">0</b>
                </div>
                <div class="stat-box">
                    <small>–ü—Ä–æ–∏–≥—Ä—ã—à–µ–π</small>
                    <b id="p-loses" style="color: #ff4757">0</b>
                </div>
            </div>
        </div>

    </main>

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <nav class="bottom-bar">
        <button onclick="App.nav('lobby')" class="nav-btn">üéÆ –ò–≥—Ä—ã</button>
        <button onclick="App.nav('profile')" class="nav-btn">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    </nav>

    <!-- –°–ö–†–ò–ü–¢–´ -->
    <script src="main.js"></script>
    <script src="mines.js"></script>
    <script src="roulette.js"></script>
    <script src="crash.js"></script>
    <script src="profile.js"></script>
</body>
</html>
