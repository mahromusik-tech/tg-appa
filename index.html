<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON Casino</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #0f2b1d; /* –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω—ã–π —Å—É–∫–Ω–æ */
            --card-bg: #1a402d;
            --text-color: #ffffff;
            --red: #ff3b30;
            --black: #1c1c1e;
            --green: #34c759;
            --gold: #ffd700;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* –ë–∞–ª–∞–Ω—Å */
        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 12px;
            box-sizing: border-box;
        }
        .balance { font-size: 24px; font-weight: bold; color: var(--gold); }
        .label { font-size: 12px; opacity: 0.7; }

        /* –ö–æ–ª–µ—Å–æ / –†–µ–∑—É–ª—å—Ç–∞—Ç */
        .wheel-container {
            width: 150px;
            height: 150px;
            background: #222;
            border-radius: 50%;
            border: 5px solid #d4af37;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            font-size: 48px;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }

        .wheel-number {
            z-index: 2;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .spinning {
            animation: spin 0.5s linear infinite;
            border-color: var(--gold);
            border-style: dashed;
        }

        /* –ü–æ–ª–µ —Å—Ç–∞–≤–∫–∏ */
        .bet-input-container {
            width: 100%;
            margin-bottom: 20px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 20px;
            text-align: center;
            box-sizing: border-box;
        }
        input:focus { outline: 2px solid var(--gold); }

        /* –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ */
        .bet-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            width: 100%;
        }

        .btn {
            padding: 20px 0;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            color: white;
            cursor: pointer;
            transition: transform 0.1s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .btn:active { transform: scale(0.95); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .btn-red { background-color: var(--red); box-shadow: 0 4px 0 #b02a22; }
        .btn-green { background-color: var(--green); box-shadow: 0 4px 0 #248a3d; }
        .btn-black { background-color: var(--black); box-shadow: 0 4px 0 #000; }

        .multiplier { font-size: 10px; opacity: 0.8; margin-top: 4px; }

        /* –ò—Å—Ç–æ—Ä–∏—è */
        .history {
            margin-top: 30px;
            display: flex;
            gap: 5px;
        }
        .history-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

    </style>
</head>
<body>

    <div class="header">
        <div>
            <div class="label">–ë–ê–õ–ê–ù–°</div>
            <div class="balance" id="balance">100</div>
        </div>
        <div style="text-align: right;">
            <div class="label">ID –ò–ì–†–û–ö–ê</div>
            <div id="user-id">...</div>
        </div>
    </div>

    <div class="wheel-container" id="wheel">
        <span class="wheel-number" id="result-num">?</span>
    </div>

    <div class="bet-input-container">
        <div class="label" style="margin-bottom: 5px;">–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏:</div>
        <input type="number" id="bet-amount" value="10" min="1">
    </div>

    <div class="bet-buttons">
        <button class="btn btn-red" onclick="placeBet('red')" id="btn-red">
            –ö–†–ê–°–ù–û–ï
            <span class="multiplier">x2</span>
        </button>
        <button class="btn btn-green" onclick="placeBet('green')" id="btn-green">
            ZERO
            <span class="multiplier">x36</span>
        </button>
        <button class="btn btn-black" onclick="placeBet('black')" id="btn-black">
            –ß–ï–†–ù–û–ï
            <span class="multiplier">x2</span>
        </button>
    </div>

    <div class="history" id="history">
        <!-- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–∞–¥–µ–Ω–∏–π -->
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe.user;
        document.getElementById('user-id').innerText = user ? user.id : 'Guest';

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        let balance = 100;
        let isSpinning = false;

        // –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–ª–∞–Ω—Å–∞ (–ø–æ–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ)
        const savedBalance = localStorage.getItem('casino_balance');
        if (savedBalance) {
            balance = parseInt(savedBalance);
            updateBalance();
        }

        function updateBalance() {
            document.getElementById('balance').innerText = balance;
            localStorage.setItem('casino_balance', balance);
        }

        function getRandomNumber() {
            return Math.floor(Math.random() * 37); // 0 - 36
        }

        function getColor(num) {
            if (num === 0) return 'green';
            // –í —Ä—É–ª–µ—Ç–∫–µ —Å–ª–æ–∂–Ω–∞—è —Å—Ö–µ–º–∞ —Ü–≤–µ—Ç–æ–≤, —É–ø—Ä–æ—Å—Ç–∏–º –¥–ª—è MVP:
            // 1-10 –∏ 19-28: –Ω–µ—á–µ—Ç–Ω—ã–µ –∫—Ä–∞—Å–Ω—ã–µ
            // 11-18 –∏ 29-36: –Ω–µ—á–µ—Ç–Ω—ã–µ —á–µ—Ä–Ω—ã–µ
            // –ù–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–¥–∞ —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫:
            const redNumbers = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36];
            return redNumbers.includes(num) ? 'red' : 'black';
        }

        function addToHistory(num, color) {
            const historyEl = document.getElementById('history');
            const dot = document.createElement('div');
            dot.className = 'history-dot';
            dot.style.backgroundColor = color === 'red' ? '#ff3b30' : (color === 'green' ? '#34c759' : '#1c1c1e');
            dot.innerText = num;
            
            historyEl.prepend(dot);
            if (historyEl.children.length > 10) {
                historyEl.lastChild.remove();
            }
        }

        function placeBet(choice) {
            if (isSpinning) return;

            const betInput = document.getElementById('bet-amount');
            const betAmount = parseInt(betInput.value);

            if (isNaN(betAmount) || betAmount <= 0) {
                tg.showAlert("–í–≤–µ–¥–∏—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Å—É–º–º—É!");
                return;
            }
            if (betAmount > balance) {
                tg.showAlert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");
                return;
            }

            // –°–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É
            balance -= betAmount;
            updateBalance();

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
            isSpinning = true;
            document.querySelectorAll('.btn').forEach(b => b.disabled = true);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            const wheel = document.getElementById('wheel');
            const resultNum = document.getElementById('result-num');
            
            wheel.classList.add('spinning');
            resultNum.innerText = "";
            tg.HapticFeedback.impactOccurred('light');

            // –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                wheel.classList.remove('spinning');
                
                const num = getRandomNumber();
                const color = getColor(num);
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                resultNum.innerText = num;
                wheel.style.backgroundColor = color === 'red' ? '#ff3b30' : (color === 'green' ? '#34c759' : '#1c1c1e');
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∏–≥—Ä—ã—à–∞
                let won = false;
                let winAmount = 0;

                if (choice === color) {
                    won = true;
                    if (choice === 'green') {
                        winAmount = betAmount * 36;
                    } else {
                        winAmount = betAmount * 2;
                    }
                }

                if (won) {
                    balance += winAmount;
                    tg.showAlert(`–í—ã–ø–∞–ª–æ ${num} (${color.toUpperCase()}).\n–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount}!`);
                    tg.HapticFeedback.notificationOccurred('success');
                } else {
                    tg.HapticFeedback.notificationOccurred('error');
                }

                addToHistory(num, color);
                updateBalance();

                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º
                isSpinning = false;
                document.querySelectorAll('.btn').forEach(b => b.disabled = false);

            }, 1500);
        }
    </script>
</body>
</html>            z-index: 10;
        }

        .res-item {
            text-align: center;
        }
        .res-value { font-size: 18px; font-weight: bold; }
        .res-label { font-size: 12px; opacity: 0.7; }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container { padding: 15px; }

        .card {
            background-color: var(--secondary-bg);
            border-radius: 14px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .building-icon { font-size: 32px; margin-right: 15px; }
        .building-info { flex-grow: 1; }
        .building-name { font-weight: bold; font-size: 16px; }
        .building-desc { font-size: 13px; opacity: 0.7; margin-top: 4px; }
        
        .buy-btn {
            background-color: var(--accent);
            color: var(--accent-text);
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }
        .buy-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–∞ */
        .clicker-area {
            text-align: center;
            margin: 30px 0;
        }
        .main-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--accent) 0%, #0056b3 100%);
            border: 4px solid rgba(255,255,255,0.2);
            font-size: 40px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0,122,255,0.4);
            transition: transform 0.1s;
        }
        .main-btn:active { transform: scale(0.95); }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--secondary-bg);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .nav-item {
            text-align: center;
            font-size: 12px;
            opacity: 0.6;
            cursor: pointer;
        }
        .nav-item.active { opacity: 1; color: var(--accent); }
        .nav-icon { font-size: 24px; display: block; margin-bottom: 4px; }

        /* –≠–∫—Ä–∞–Ω—ã */
        .screen { display: none; }
        .screen.active { display: block; }

    </style>
</head>
<body>

    <!-- –†–µ—Å—É—Ä—Å—ã -->
    <div class="header">
        <div class="res-item">
            <div class="res-value" id="gold">0</div>
            <div class="res-label">–ó–æ–ª–æ—Ç–æ</div>
        </div>
        <div class="res-item">
            <div class="res-value" id="income">0/—Å–µ–∫</div>
            <div class="res-label">–î–æ—Ö–æ–¥</div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω: –ë–ê–ó–ê -->
    <div id="screen-base" class="screen active container">
        <div class="clicker-area">
            <button class="main-btn" onclick="clickMine()">‚õèÔ∏è</button>
            <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –¥–æ–±—ã—Ç—å</p>
        </div>

        <h3>–¢–≤–æ–∏ –ø–æ—Å—Ç—Ä–æ–π–∫–∏</h3>
        <div id="buildings-list">
            <!-- –°—é–¥–∞ —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–∏—Ç –∑–¥–∞–Ω–∏—è -->
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω: –ú–ê–ì–ê–ó–ò–ù -->
    <div id="screen-shop" class="screen container">
        <h3>–ú–∞–≥–∞–∑–∏–Ω —É–ª—É—á—à–µ–Ω–∏–π</h3>
        <div id="shop-list">
            <!-- –°—é–¥–∞ —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–∏—Ç —Ç–æ–≤–∞—Ä—ã -->
        </div>
    </div>

    <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchScreen('base', this)">
            <span class="nav-icon">üè∞</span>–ë–∞–∑–∞
        </div>
        <div class="nav-item" onclick="switchScreen('shop', this)">
            <span class="nav-icon">üõí</span>–ú–∞–≥–∞–∑–∏–Ω
        </div>
        <div class="nav-item" onclick="alert('–°–∫–æ—Ä–æ!')">
            <span class="nav-icon">‚öîÔ∏è</span>–ê—Ä–º–∏—è
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò–ì–†–´ ---
        const gameConfig = {
            buildings: [
                { id: 'mine', name: '–ó–æ–ª–æ—Ç–∞—è —à–∞—Ö—Ç–∞', icon: '‚õèÔ∏è', baseCost: 50, income: 1 },
                { id: 'farm', name: '–§–µ—Ä–º–∞', icon: 'üåæ', baseCost: 200, income: 5 },
                { id: 'factory', name: '–ó–∞–≤–æ–¥', icon: 'üè≠', baseCost: 1000, income: 30 }
            ]
        };

        // --- –°–û–°–¢–û–Ø–ù–ò–ï (State) ---
        let state = {
            gold: 0,
            buildings: { mine: 0, farm: 0, factory: 0 },
            lastSave: Date.now()
        };

        // --- –ó–ê–ì–†–£–ó–ö–ê / –°–û–•–†–ê–ù–ï–ù–ò–ï ---
        function loadGame() {
            const saved = localStorage.getItem('ton_strategy_save');
            if (saved) {
                state = JSON.parse(saved);
            }
            // –ù–∞—á–∏—Å–ª—è–µ–º –∑–æ–ª–æ—Ç–æ –∑–∞ –≤—Ä–µ–º—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è (AFK)
            const now = Date.now();
            const secondsOffline = (now - state.lastSave) / 1000;
            const income = calculateIncome();
            if (secondsOffline > 10 && income > 0) {
                const earned = Math.floor(secondsOffline * income);
                state.gold += earned;
                tg.showAlert(`–ü–æ–∫–∞ —Ç–µ–±—è –Ω–µ –±—ã–ª–æ, —Ä–∞–±–æ—á–∏–µ –¥–æ–±—ã–ª–∏ ${earned} –∑–æ–ª–æ—Ç–∞!`);
            }
            updateUI();
        }

        function saveGame() {
            state.lastSave = Date.now();
            localStorage.setItem('ton_strategy_save', JSON.stringify(state));
        }

        // --- –õ–û–ì–ò–ö–ê ---
        function calculateIncome() {
            let income = 0;
            gameConfig.buildings.forEach(b => {
                income += (state.buildings[b.id] || 0) * b.income;
            });
            return income;
        }

        function getCost(buildingId) {
            const b = gameConfig.buildings.find(x => x.id === buildingId);
            const count = state.buildings[buildingId];
            // –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç –Ω–∞ 15% —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–æ–π
            return Math.floor(b.baseCost * Math.pow(1.15, count));
        }

        function clickMine() {
            state.gold += 1 + calculateIncome(); // –ö–ª–∏–∫ –¥–∞–µ—Ç 1 + –¥–æ—Ö–æ–¥ –≤ —Å–µ–∫—É–Ω–¥—É
            tg.HapticFeedback.impactOccurred('light');
            updateUI();
        }

        function buyBuilding(id) {
            const cost = getCost(id);
            if (state.gold >= cost) {
                state.gold -= cost;
                state.buildings[id]++;
                tg.HapticFeedback.notificationOccurred('success');
                updateUI();
                saveGame();
            } else {
                tg.HapticFeedback.notificationOccurred('error');
            }
        }

        // --- –û–¢–†–ò–°–û–í–ö–ê (Render) ---
        function updateUI() {
            document.getElementById('gold').innerText = Math.floor(state.gold);
            document.getElementById('income').innerText = `+${calculateIncome()}/—Å–µ–∫`;

            // –†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–∫ –Ω–∞ –ë–∞–∑–µ
            const baseList = document.getElementById('buildings-list');
            baseList.innerHTML = '';
            gameConfig.buildings.forEach(b => {
                const count = state.buildings[b.id];
                if (count > 0) {
                    baseList.innerHTML += `
                        <div class="card">
                            <div style="display:flex; align-items:center">
                                <span class="building-icon">${b.icon}</span>
                                <div>
                                    <div class="building-name">${b.name}</div>
                                    <div class="building-desc">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${count}</div>
                                </div>
                            </div>
                            <div style="font-weight:bold">+${count * b.income}/—Å</div>
                        </div>
                    `;
                }
            });
            if (baseList.innerHTML === '') baseList.innerHTML = '<p style="text-align:center; opacity:0.5">–ü–æ–∫–∞ –ø—É—Å—Ç–æ. –ö—É–ø–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ!</p>';

            // –†–µ–Ω–¥–µ—Ä –ú–∞–≥–∞–∑–∏–Ω–∞
            const shopList = document.getElementById('shop-list');
            shopList.innerHTML = '';
            gameConfig.buildings.forEach(b => {
                const cost = getCost(b.id);
                const canBuy = state.gold >= cost;
                shopList.innerHTML += `
                    <div class="card">
                        <div style="display:flex; align-items:center">
                            <span class="building-icon">${b.icon}</span>
                            <div>
                                <div class="building-name">${b.name}</div>
                                <div class="building-desc">+${b.income} –∑–æ–ª–æ—Ç–∞/—Å–µ–∫</div>
                            </div>
                        </div>
                        <button class="buy-btn" onclick="buyBuilding('${b.id}')" ${!canBuy ? 'disabled' : ''}>
                            ${cost} üí∞
                        </button>
                    </div>
                `;
            });
        }

        function switchScreen(screenName, btn) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π
            document.getElementById(`screen-${screenName}`).classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');
        }

        // --- –ò–ì–†–û–í–û–ô –¶–ò–ö–õ ---
        setInterval(() => {
            const income = calculateIncome();
            if (income > 0) {
                state.gold += income;
                updateUI();
            }
        }, 1000); // –ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
        setInterval(saveGame, 5000);

        // –ó–∞–ø—É—Å–∫
        loadGame();

    </script>
</body>
</html>
        .btn {
            background-color: var(--tg-theme-button-color, #007aff);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 16px;
            border-radius: 12px;
            width: 100%;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .btn:active { opacity: 0.8; }
        
        .resource-box {
            font-size: 32px;
            font-weight: bold;
            margin: 20px 0;
        }
    </style>
</head>
<body>

    <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div class="card">
        <h1 id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
        <p id="user-id">ID: ...</p>
    </div>

    <div class="card">
        <p>–¢–≤–æ–∏ —Ä–µ—Å—É—Ä—Å—ã</p>
        <div class="resource-box" id="balance">0 üí∞</div>
        <p>–î–æ–±—ã—á–∞ –≤ —á–∞—Å: 100</p>
    </div>

    <button class="btn" onclick="handleMine()">‚õè –°–æ–±—Ä–∞—Ç—å –Ω–∞–ª–æ–≥–∏</button>

    <!-- –õ–æ–≥–∏–∫–∞ (JavaScript) -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe.user;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
        const nameEl = document.getElementById('user-name');
        const idEl = document.getElementById('user-id');
        const balanceEl = document.getElementById('balance');

        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        if (user) {
            nameEl.innerText = `–ü—Ä–∞–≤–∏—Ç–µ–ª—å ${user.first_name}`;
            idEl.innerText = `ID: ${user.id}`;
        } else {
            nameEl.innerText = "–ü—Ä–∞–≤–∏—Ç–µ–ª—å –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π";
            idEl.innerText = "–ó–∞–ø—É—â–µ–Ω–æ –≤–Ω–µ Telegram";
        }

        // –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
        let balance = 0;

        function handleMine() {
            balance += 10;
            balanceEl.innerText = `${balance} üí∞`;
            
            // –í–∏–±—Ä–∞—Ü–∏—è (—Ç–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫)
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
        }

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É (MainButton) –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
        tg.MainButton.setText("–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–∑–∞—Ä–º—É (500 üí∞)");
        tg.MainButton.show();
        
        tg.MainButton.onClick(() => {
            if (balance >= 500) {
                balance -= 500;
                balanceEl.innerText = `${balance} üí∞`;
                tg.showAlert("–ö–∞–∑–∞—Ä–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞!");
            } else {
                tg.showAlert(`–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∑–æ–ª–æ—Ç–∞! –ù—É–∂–Ω–æ –µ—â–µ ${500 - balance}`);
            }
        });

    </script>
</body>
</html>
