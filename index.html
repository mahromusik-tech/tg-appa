<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Casino</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <!-- –®–ê–ü–ö–ê -->
    <header class="app-header">
        <div class="balance-container">
            üíé <span id="balance-display">0</span>
        </div>
        <div class="user-pill">
            <img id="header-avatar" src="" style="display:none">
            <span id="header-username">Loading...</span>
        </div>
    </header>

    <main id="app-content">
        
        <!-- –õ–û–ë–ë–ò -->
        <div id="view-lobby" class="view active">
            <div style="text-align:center; margin: 20px 0;">
                <h1>TON CASINO</h1>
            </div>
            <div class="games-list">
                <button class="btn-main" onclick="App.nav('mines')" style="background:#333; color:#fff; margin-bottom:10px;">
                    üí£ MINES
                </button>
                <button class="btn-main" onclick="App.nav('roulette')" style="background:#e74c3c; color:#fff;">
                    üî¥ ROULETTE ‚ö´
                </button>
            </div>
        </div>

        <!-- MINES -->
        <div id="view-mines" class="view">
            <h2>Mines</h2>
            <div id="mines-grid" style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; margin:20px 0;"></div>
            <input type="number" id="mines-bet" class="full-input" value="100">
            <select id="mines-count" class="full-input" style="margin-top:5px;">
                <option value="3">3 –ú–∏–Ω—ã</option>
                <option value="5">5 –ú–∏–Ω</option>
            </select>
            <button id="btn-mines-action" class="btn-main" onclick="Mines.action()">–°–¢–ê–í–ö–ê</button>
            <button class="nav-btn" onclick="App.nav('lobby')" style="margin-top:10px">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- ROULETTE -->
        <div id="view-roulette" class="view">
            <h2>Roulette</h2>
            
            <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –†–£–õ–ï–¢–ö–ò -->
            <div class="roulette-wheel-container">
                <div class="roulette-pointer">‚ñº</div>
                <div class="roulette-strip" id="roulette-strip">
                    <!-- –°—é–¥–∞ JS –≤—Å—Ç–∞–≤–∏—Ç —è—á–µ–π–∫–∏ -->
                </div>
            </div>

            <div id="roulette-history" style="display:flex; gap:5px; height:30px; margin-bottom:10px;"></div>

            <input type="number" id="roulette-bet" class="full-input" value="100">
            <div class="roulette-buttons">
                <button class="btn-r-red" onclick="Roulette.spin('red')">RED x2</button>
                <button class="btn-r-green" onclick="Roulette.spin('green')">ZERO x14</button>
                <button class="btn-r-black" onclick="Roulette.spin('black')">BLACK x2</button>
            </div>
            <button class="nav-btn" onclick="App.nav('lobby')" style="margin-top:10px">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- PROFILE -->
        <div id="view-profile" class="view">
            <div class="profile-card">
                <div class="p-avatar" id="p-avatar"></div>
                <h2 id="p-name">...</h2>
                <div class="p-id" id="p-id">ID: ...</div>
                
                <!-- –ö–ù–û–ü–ö–ê –ü–û–ü–û–õ–ù–ï–ù–ò–Ø -->
                <button class="crypto-btn" onclick="App.openDepositModal()">
                    üíé –ü–æ–ø–æ–ª–Ω–∏—Ç—å (CryptoBot)
                </button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-box"><small>–ë–∞–ª–∞–Ω—Å</small><b id="p-balance">0</b></div>
                <div class="stat-box"><small>–ò–≥—Ä</small><b id="p-games">0</b></div>
            </div>
        </div>

    </main>

    <!-- –ú–û–î–ê–õ–ö–ê –ü–û–ü–û–õ–ù–ï–ù–ò–Ø -->
    <div id="deposit-modal" class="modal-overlay" onclick="if(event.target === this) this.style.display='none'">
        <div class="modal">
            <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</h3>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É:</p>
            <input type="number" id="dep-amount" class="full-input" value="1000">
            <button class="crypto-btn" onclick="App.createInvoice()">–û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ CryptoBot</button>
            <button class="nav-btn" onclick="document.getElementById('deposit-modal').style.display='none'">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <nav class="bottom-bar">
        <button onclick="App.nav('lobby')" class="nav-btn">üéÆ –ò–≥—Ä—ã</button>
        <button onclick="App.nav('profile')" class="nav-btn">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    </nav>

    <script src="main.js"></script>
    <script src="mines.js"></script>
    <script src="roulette.js"></script>
    <script src="profile.js"></script>
</body>
</html>
